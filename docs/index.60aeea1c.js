!function(){function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},a=e.parcelRequirefcb9;function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}null==a&&((a=function(t){if(t in i)return i[t].exports;if(t in n){var e=n[t];delete n[t];var a={id:t,exports:{}};return i[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},e.parcelRequirefcb9=a),a.register("a1kbr",(function(e,i){var n,a;t(e.exports,"register",(function(){return a}),(function(t){return a=t})),t(e.exports,"resolve",(function(){return n}),(function(t){return n=t}));var o={};a=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)o[e[i]]=t[e[i]]},n=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("a1kbr").register(JSON.parse('{"9bBlY":"index.60aeea1c.js","haw6J":"jim-basio-ozQ6Ve3ar1w-unsplash.f13bb54c.jpg","6SlsK":"mask.55f715b1.png"}'));var r;a.register("4QMzK",(function(e,i){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var a={};function o(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=a[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return o(t[2])}return"/"}(),a[t]=e),e}})),r=a("4QMzK").getBundleURL("9bBlY")+a("a1kbr").resolve("haw6J");var s;s=a("4QMzK").getBundleURL("9bBlY")+a("a1kbr").resolve("6SlsK");var l=function(){"use strict";function t(){var e,i,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,i="handleScroll",n=function(t){var e=window.scrollY-this.lastScrollPosition;this.drawCanvas(e)}.bind(this),i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,this.NUMBER_PIXELS=640,this.size={w:window.innerWidth,h:window.innerHeight},this.img,this.history=[],this.imageData=[],this.mappedPosition=[],this.createCanvas(),this.loadImage(s,!0),this.lastScrollPosition=window.scrollY,document.addEventListener("scroll",this.handleScroll)}var e,i,n;return e=t,(i=[{key:"createCanvas",value:function(){this.canvas=document.getElementById("canvas"),this.ctx=canvas.getContext("2d"),this.canvas.width=this.size.w*window.devicePixelRatio,this.canvas.height=this.size.h*window.devicePixelRatio}},{key:"loadImage",value:function(t,e){var i=void 0!==e&&e,n=document.createElement("img");n.src=t;var a=this;i||(a.img=n),n.onload=function(){a.imgCoords={x:Math.abs(a.canvas.width-window.innerHeight*n.width/n.height*window.devicePixelRatio)/2,y:Math.abs(a.canvas.height-n.height)/2},a.drawImage(n),a.getData(i)}}},{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawImage",value:function(t){this.ctx.drawImage(t,this.imgCoords.x,0,window.innerHeight*t.width/t.height*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio)}},{key:"getData",value:function(t){if(t){for(var e=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data,i=0;i<e.length-272;i+=272)0==e[i]&&0==e[i+1]&&0==e[i+2]&&255==e[i+3]&&this.mappedPosition.push({x:Math.floor(i/4%this.canvas.width),y:Math.floor(i/4/this.canvas.width)});this.loadImage(r)}else for(var n=0;n<this.mappedPosition.length;n++){var a={data:this.ctx.getImageData(this.mappedPosition[n].x,this.mappedPosition[n].y,1,1).data,x:this.mappedPosition[n].x,y:this.mappedPosition[n].y};this.imageData.push(a)}}},{key:"getPixelColor",value:function(t){var e=parseFloat(this.imageData[t][3]||1),i=Math.floor(e*parseInt(this.imageData[t].data[0])+255*(1-e)),n=Math.floor(e*parseInt(this.imageData[t].data[1])+255*(1-e)),a=Math.floor(e*parseInt(this.imageData[t].data[2])+255*(1-e));return"#"+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+a.toString(16)).slice(-2)}},{key:"drawCanvas",value:function(t){this.imageData.map(function(e,i){this.ctx.beginPath(),this.ctx.moveTo(e.x,e.y),this.ctx.strokeStyle=this.getPixelColor(i),this.ctx.lineTo(e.x,e.y+t),this.ctx.lineWidth=3,this.ctx.stroke()}.bind(this))}}])&&o(e.prototype,i),n&&o(e,n),t}();window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("load",(function(){var t=new l;document.getElementById("refresh").addEventListener("click",(function(){window.scrollTo(0,0),t.clearCanvas(),t.drawImage(t.img)})),window.onresize=function(){window.scrollTo(0,0),t.clearCanvas(),t.drawImage(t.img)}}))}();