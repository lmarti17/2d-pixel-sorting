function t(t,e,i,a){Object.defineProperty(t,e,{get:i,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},n=e.parcelRequirefcb9;null==n&&((n=function(t){if(t in i)return i[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequirefcb9=n),n.register("47O9x",(function(e,i){var a,n;t(e.exports,"resolve",(function(){return a}),(function(t){return a=t})),t(e.exports,"register",(function(){return n}),(function(t){return n=t}));var o={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)o[e[i]]=t[e[i]]},a=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),n("47O9x").register(JSON.parse('{"3cAid":"index.c95480b1.js","flc9V":"jim-basio-ozQ6Ve3ar1w-unsplash.f13bb54c.jpg","NdWiz":"mask.55f715b1.png"}'));var o;o=new URL(n("47O9x").resolve("flc9V"),import.meta.url).toString();var s;s=new URL(n("47O9x").resolve("NdWiz"),import.meta.url).toString();class r{createCanvas(){this.canvas=document.getElementById("canvas"),this.ctx=canvas.getContext("2d"),this.canvas.width=this.size.w*window.devicePixelRatio,this.canvas.height=this.size.h*window.devicePixelRatio}loadImage(t,e=!1){let i=document.createElement("img");i.src=t;let a=this;e||(a.img=i),i.onload=function(){a.imgCoords={x:Math.abs(a.canvas.width-window.innerHeight*i.width/i.height*window.devicePixelRatio)/2,y:Math.abs(a.canvas.height-i.height)/2},a.drawImage(i),a.getData(e)}}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawImage(t){this.ctx.drawImage(t,this.imgCoords.x,0,window.innerHeight*t.width/t.height*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio)}getData(t){if(t){let t=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height).data;for(var e=0;e<t.length-272;e+=272)0==t[e]&&0==t[e+1]&&0==t[e+2]&&255==t[e+3]&&this.mappedPosition.push({x:Math.floor(e/4%this.canvas.width),y:Math.floor(e/4/this.canvas.width)});this.loadImage(o)}else for(let t=0;t<this.mappedPosition.length;t++){let e={data:this.ctx.getImageData(this.mappedPosition[t].x,this.mappedPosition[t].y,1,1).data,x:this.mappedPosition[t].x,y:this.mappedPosition[t].y};this.imageData.push(e)}}getPixelColor(t){let e=parseFloat(this.imageData[t][3]||1),i=Math.floor(e*parseInt(this.imageData[t].data[0])+255*(1-e)),a=Math.floor(e*parseInt(this.imageData[t].data[1])+255*(1-e)),n=Math.floor(e*parseInt(this.imageData[t].data[2])+255*(1-e));return"#"+("0"+i.toString(16)).slice(-2)+("0"+a.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)}drawCanvas(t){this.imageData.map(((e,i)=>{this.ctx.beginPath(),this.ctx.moveTo(e.x,e.y),this.ctx.strokeStyle=this.getPixelColor(i),this.ctx.lineTo(e.x,e.y+t),this.ctx.lineWidth=3,this.ctx.stroke()}))}constructor(){var t,e,i;i=t=>{let e=window.scrollY-this.lastScrollPosition;this.drawCanvas(e)},(e="handleScroll")in(t=this)?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,this.NUMBER_PIXELS=640,this.size={w:window.innerWidth,h:window.innerHeight},this.img,this.history=[],this.imageData=[],this.mappedPosition=[],this.createCanvas(),this.loadImage(s,!0),this.lastScrollPosition=window.scrollY,document.addEventListener("scroll",this.handleScroll)}}window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("load",(()=>{let t=new r;document.getElementById("refresh").addEventListener("click",(()=>{window.scrollTo(0,0),t.clearCanvas(),t.drawImage(t.img)})),window.onresize=function(){window.scrollTo(0,0),t.clearCanvas(),t.drawImage(t.img)}}));